/*
 * helper v0.1
 * Production build. Take a look at the 
 * source by removing the “.min” part of the URL.
 *
 * Author: jrudenstam
 * http://typisktmig.se
 */
(function(e){typeof define=="function"?define("helper",e):this.helper=e})({isNodeList:function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(e.length==0||typeof e[0]=="object"&&e[0].nodeType>0)?!0:!1},getByClass:function(){return document.getElementsByClassName?function(e,t,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:function(e,t,n){var r=[],i="*";t==null&&(t=document);var s=t.getElementsByTagName(i),o=s.length,u=new RegExp("(^|\\s)"+e+"(\\s|$)");for(var a=0,f=0;a<o;a++)if(u.test(s[a].className)){if(n)return s[a];r[f]=s[a],f++}return r}}(),getAttribute:function(e,t){var n=e.getAttribute&&e.getAttribute(t)||null;if(!n){var r=e.attributes,i=r.length;for(var s=0;s<i;s++)t[s]!==undefined&&t[s].nodeName===t&&(n=t[s].nodeValue)}return n},hasClass:function(e,t){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";return n.search(t)>-1},addClass:function(e,t){if(!this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n+" "+t+" ",n=n.replace(/\s{2,}/g," "),e.setAttribute("class",n)}},removeClass:function(e,t){if(this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n.replace(t,""),e.setAttribute("class",n)}},getByAttr:function(){return document.querySelector&&document.querySelectorAll?function(e,t,n){var t=t||document;return n?t.querySelector("["+e+"]"):t.querySelectorAll("["+e+"]")}:function(e,t,n){var t=t||document,r=[],i="*",s=t.getElementsByTagName(i),o=["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"];for(var u=0;u<s.length;u++)if(o.indexOf(e)>=0&&(s[u][e]!==undefined||s[u][e]===!0)||!o.indexOf(e)>=0&&s[u][e]!==undefined&&s[u][e]!==""){if(n)return s[u];r.push(s[u])}return r}}(),create:function(){if(!Object.create){function e(){}return function(t){if(arguments.length!=1)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}return Object.create}(),registerEventHandler:function(){if(document.addEventListener)return function(e,t,n){e.addEventListener(t,n,!1)};if(document.attachEvent)return function(e,t,n){e.attachEvent("on"+t,n)}}(),unregisterEventHandler:function(){if(document.addEventListener)return function(e,t,n){e.removeEventListener(t,n,!1)};if(document.attachEvent)return function(e,t,n){e.detachEvent("on"+t,n)}}(),addEvent:function(e,t,n,r){var r=r||window,i=function(e){return function(t){n.apply(r,[e.normaliseEvent(t||window.event)])}}(this);return this.registerEventHandler(e,t,i),{node:e,type:t,callback:i}},removeEvent:function(e){this.unregisterEventHandler(e.node,e.type,e.callback)},normaliseEvent:function(e){return e.stopPropagation||(e.stopPropagation=function(){this.cancelBubble=!0},e.preventDefault=function(){this.returnValue=!1}),e.stop||(e.stop=function(){this.stopPropagation(),this.preventDefault()}),e.srcElement&&!e.target&&(e.target=e.srcElement),e},ajaxObject:function(){var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=!1;for(var n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}t=e[n];break}return t}(),ajax:function(e,t,n,r){var i=n?"POST":"GET",r=r||!0,s=this.ajaxObject();if(!s)return;s.open(i,e,r);if(arguments.length>4)for(var o=4;o<arguments.length;o++)arguments[o][0]&&arguments[o][0]&&s.setRequestHeader(arguments[o][0],arguments[o][1]);n&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(s.readyState!=4)return;if(s.status!=200&&s.status!=304)return;t(s)};if(s.readyState==4)return;s.send(n)},jsonpCallback:function(e){return window.cbs=window.cbs||[],window.cbs.push(function(e,t){return function(n){var r=document.getElementById("jsonpScript_"+t);r.parentNode.removeChild(r),e(n)}}(e,window.cbs.length)),"window.cbs["+(window.cbs.length-1)+"]"},jsonp:function(e,t,n){var n=n||{},r=e+(e.indexOf("?")+1?"&":"?"),i=document.getElementsByTagName("head")[0],s=document.createElement("script"),o=[];n.callback=this.jsonpCallback(t),s.id="jsonpScript_"+(window.cbs.length-1);for(var u in n)o.push(u+"="+encodeURIComponent(n[u]));r+=o.join("&"),s.type="text/javascript",s.src=r,i.appendChild(s)}});